10:51 < _cyclops_> Habbie, would you mind commeting on the todo list for rfc2136? I'd like to know if things are missing and/or what
                   you think is important, so i could focus on that first.
10:52 <@   Habbie> ok
10:52 <@   Habbie> where is it?
10:52 <@   Habbie> latest pull?
10:52 <@   Habbie> 37?
10:53 < _cyclops_> https://github.com/Habbie/powerdns/pull/37/files
10:53 < _cyclops_> (yes)
10:53 <@   Habbie> ok
10:54 <@   Habbie> are the 2136 prereq sections that talk about whole RRsets, implemented?
10:55 < _cyclops_> yes, https://github.com/Habbie/powerdns/pull/37/files#L25R1229
10:56 <@   Habbie> ah, yes
10:56 <@   Habbie> excellent
10:57 <@   Habbie> what currently happens to the serial?
10:58 < _cyclops_> Generate YYYYMMDDXX serial, if it's lower than the current, we increate the current by 1, if not, we use YYYYMMDD01
                   and set it
10:58 <@   Habbie> ah
10:58 <@   Habbie> i think a SOA-EDIT like thing would be preferable
10:59 <@   Habbie> because you can just combine those in any possible way and nothing will break
10:59 <@   Habbie> going through the TODO now
10:59 <@   Habbie> qtype issupportedtype: this was about performance? if so, not high prio
10:59 <@   Habbie> changing tests to use nsupdate: better do it as early as possible
11:00 <@   Habbie> prio in update queries: are you suggesting check-zone should complain about prio being NULL everywhere, or just on
                   MX/SRV ?
11:00 <@   Habbie> SOA-EDIT: see above; important, i think
11:00 <@   Habbie> WKS: nobody cares
11:00 <@   Habbie> changing sql query names: good, i guess, although it makes them less widely useful
11:01 <@   Habbie> msgprefix: good logging is underrated
11:01 <@   Habbie> notimpl: imporant
11:01 <@   Habbie> docs: important but not high prio until 3.2
11:01 < _cyclops_> well, my db (at the home network) had prio fields set to NULL, because the query has 'where prio = %d', the update
                   does not perform because 0 is not NULL
11:01 <@   Habbie> forward update packet: perhaps interesting to combine with the requested notifyproxy work
11:02 <@   Habbie> ah, that
11:02 <@   Habbie> i still don't feel 'where prio=' should belong in an UPDATE query
11:02 <@   Habbie> and having prio NULL for A and AAAA and TXT etc. is correct
11:02 < _cyclops_> ok, so we only need to care about prio when it's a MX or SRV record
11:03 < _cyclops_> the reason it is in the update, is that we need to match RDATA sometimes. it's also because i use the
                   DNSResourceRecord actually
11:03 <@   Habbie> anyway, priority-wise (no pun intended): 1) make sure prio being NULL or not NULL for a nonMX/SRV-record does not
                   break things  2) serials  3) nsupdate in tests  4) docs  5) cleanup  6) update forwarding
11:03 <@   Habbie> ah
11:04 < _cyclops_> i've been wondering if the approach where we search for the record and then update it is the best. You might just
                   want to fire away quaries, but i feel this only works well for GSQL backends and makes the dnsbackend base class
                   quite specific - now it's rather generic
11:05 <@   Habbie> needs to be generic, yes
11:06 < _cyclops_> to me it seems like a design mistake to seperate prio from content, but that's probably me ;-)
11:08 <@   Habbie> i can't say i like it
11:11 < _cyclops_> anyway, saving this log, thanks for the feedback

